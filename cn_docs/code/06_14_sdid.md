---
layout: default
title: sdid
parent: Stata代码
nav_order: 14
mathjax: true
image: "../../../assets/images/DiD.png"
---

# sdid
{: .no_toc }

## 目录
{: .no_toc .text-delta }

1. TOC
{:toc}

---


## 说明

- 基于：Arkhangelsky等人2021。[合成双重差分法](https://www.aeaweb.org/articles?id=10.1257/aer.20190159)。
- 程序版本（如有）：2024年6月28日 2.0.2版
- 最后检查：2024年11月
- [GitHub](https://github.com/Daniel-Pailanir/sdid)上提供了详细描述。


## 安装

```stata
ssc install sdid, replace
```

查看帮助文件：

```stata
help sdid
```

## 测试命令

请确保使用[这里](https://asjadnaqvi.github.io/DiD/docs/code/06_03_data/)给出的脚本生成数据

```stata
sdid Y id t D, vce(bootstrap) seed(1000) 
```

由于我们使用自助标准误，我们固定种子以保证可重复性。我们得到以下输出：


```stata
Bootstrap replications (50). This may take some time.
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5
..................................................     50


Synthetic Difference-in-Differences Estimator

-----------------------------------------------------------------------------
           Y |     ATT     Std. Err.     t      P>|t|    [95% Conf. Interval]
-------------+---------------------------------------------------------------
           D | 131.07490    8.42889    15.55    0.000   114.55458   147.59522
-----------------------------------------------------------------------------
95% CIs and p-values are based on Large-Sample approximations.
Refer to Arkhangelsky et al., (2020) for theoretical derivations.

```

该命令的内置图形选项给了我们：


```stata
sdid Y id year D, vce(bootstrap) seed(1000) graph
```


该命令保存了一组以`g2_`为前缀的图形，这些图形代表了按首次处理年份划分的合成DiD图形：

<img src="../../../assets/images/sdid_g2_24.png" width="100%">
<img src="../../../assets/images/sdid_g2_34.png" width="100%">
<img src="../../../assets/images/sdid_g2_38.png" width="100%">
<img src="../../../assets/images/sdid_g2_56.png" width="100%">

用于平均处理前时期的权重在图形底部显示为区域填充。


